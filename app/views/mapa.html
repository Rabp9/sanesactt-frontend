<!-- app\views\mapa.html -->
<div class="alert alert-dismissible" ng-class="{'alert-success': message.code === 200, 'alert-danger': message.code !== 200 }" role="alert" ng-show="message.code !== undefined">
    <button type="button" class="close" ng-click="message.code = undefined" aria-label="Close"><span aria-hidden="true">&times;</span></button>
    {{ message.message }} 
</div>
<h2>Mapa</h2>
<hr>
<div class="row">
    <div class="col-sm-12">
        <form class="form-inline">
            Límite <input id="nmLimite" class="form-control" type="number" min="5" ng-model="limite" placeholder="Límite">
            Fecha de Inicio <input id="dtFechaInicio" class="form-control" type="date" ng-model="fecha_inicio">
            Fecha de Cierre <input id="dtFechaCierre" class="form-control" type="date" ng-model="fecha_cierre">
            <button id="btnBuscar" class="btn btn-primary" type="submit"><span class="glyphicon glyphicon-search"></span> Buscar</button> 
        </form>
    </div>
</div>
<div class="row">
    <div class="col-sm-12">
        <div ng-show="loading_puntos_negros">Cargando...</div>
        <div ng-if="!loading_clientes" map-lazy-load="https://maps.google.com/maps/api/js" map-lazy-load-params="{{ googleMapsUrl }}">
            <ng-map center="{{ ciudad_lat }}, {{ ciudad_lng }}" zoom="14" style="height: 500px;"
                zoom-to-include-markers="{{ include_markers }}" default-style="false">
                <info-window id="myInfoWindow">
                    <div ng-non-bindable>
                        <h6>{{ selectedCliente.razon_social }}</h6>
                        <p>{{ selectedCliente.rubro }}</p>
                    </div>
                </info-window>
                <marker ng-repeat="cliente in clientes" position="{{ cliente.latitud }}, {{ cliente.longitud }}"
                    title="{{ cliente.razon_social }}" id="{{ cliente.id }}" on-click="showCliente(event, cliente)">
                </marker>
            </ng-map>
        </div>
    </div>
</div>